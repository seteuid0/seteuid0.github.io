<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>kerberos on seteuid0's blog</title><link>/tags/kerberos/</link><description>Recent content in kerberos on seteuid0's blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>This is a customized copyright.</copyright><lastBuildDate>Thu, 19 Sep 2013 18:56:00 +0000</lastBuildDate><atom:link href="/tags/kerberos/index.xml" rel="self" type="application/rss+xml"/><item><title>kerberos中wrong principal in request的一个可能原因，#define KRB5KRB_AP_WRONG_PRINC (-1765328240L)</title><link>/posts/kerberos_the_wrong_principal_in_one_of_the_possible_causes_request__define_krb5krb_ap_wrong_princ_-1765328240l/</link><pubDate>Thu, 19 Sep 2013 18:56:00 +0000</pubDate><guid>/posts/kerberos_the_wrong_principal_in_one_of_the_possible_causes_request__define_krb5krb_ap_wrong_princ_-1765328240l/</guid><description>最近配置kerberos，配置后用sclient测试的时候遇到wrong principal in request，搜了下没有找到解决办法，用gdb调了下发现原来是我的主机名配置的有问题。错误信息如下。修复方式为：如使用kerberos.example.com则主机名也为kerberos.example.com主机名的修改方式为：Fedora上是修改&amp;quot;/etc/hostname&amp;quot; 文件rhel主机名配置为/etc/sysconfig/network</description></item><item><title>rhel6.4/Fedora18/19上kerberos安装实验</title><link>/posts/kerberos_install_experimental_rhel64fedora1819/</link><pubDate>Wed, 31 Jul 2013 06:05:00 +0000</pubDate><guid>/posts/kerberos_install_experimental_rhel64fedora1819/</guid><description>在rhel6.4上安装kerberos实验，理解kerberos原理。安装步骤如下：安装krb，yum install krb5-*修改hosts文件：添加ip kerberos.example.com kerberos主要是修改主机名，修改host是为了找到地址在fedora18/19等系统还需要修改/etc/hostname，添加主机名：kerberos.example.com在rhel的系统中在 /etc/sysconfig/network文件中如果以上修改有误，可能会提示默认的krb配置基本就可以使用了，krb初始化kdb5_util create -r EXAMPLE.COM -s启动服务service krb5kdc start安装完毕，可以使用你的Krb服务了。测试方法：创建一个sample的principal，用来给服务程序使用kadmin.local:addprinc sample/kerberos.example.com@EXAMPLE.COMkadmin.local:ktadd -k /etc/krb5.keytab sample/kerberos.example.com@EXAMPLE.COM创建一个用户的principalkadmin.local:addprinc test1/kerberos.example.com@EXAMPLE.COM运行测试服务程序：sserver -p 8899 -s sample登录系统，执行kinit获取principal:kinit test1/kerberos.example.comklist查看相关内容sclient kerberos.example.com 8899 sample返回success，说明配置正确。其他测试程序1、sim_serversim_server -p 8888 -s samplesim_client -p 8888 -h kerberos.example.com -m hello2、uuserver修改/etc/services添加uu-sample 8888/tcp #uu-sample添加一个新的pricipal,使用该principal登录，然后执行uuserver用另外一个principal登录，然后执行uuclient kerberos.example.com message</description></item></channel></rss>