<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>pcre on seteuid0's blog</title><link>/tags/pcre/</link><description>Recent content in pcre on seteuid0's blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>This is a customized copyright.</copyright><lastBuildDate>Thu, 14 Mar 2013 06:22:00 +0000</lastBuildDate><atom:link href="/tags/pcre/index.xml" rel="self" type="application/rss+xml"/><item><title>pcre使用</title><link>/posts/pcre_use/</link><pubDate>Thu, 14 Mar 2013 06:22:00 +0000</pubDate><guid>/posts/pcre_use/</guid><description>在网上找到的pcre使用的资料，PCRE是一个NFA正则引擎，不然不能提供完全与Perl一致的正则语法功能。但它同时也实现了DFA，只是满足数学意义上的正则。PCRE提供了19个接口函数，为了简单介绍，使用PCRE内带的测试程序(pcretest.c)示例用法。1. pcre_compile原型：#include &amp;lt;pcre.h&amp;gt;pcre *pcre_compile(const char *pattern, int options, const char **errptr, int *erroffset, const unsigned char *tableptr);功能：将一个正则表达式编译成一个内部表示，在匹配多个字符串时，可以加速匹配。其同pcre_compile2功能一样只是缺少一个参数errorcodeptr。参数：pattern 正则表达式options 为0，或者其他参数选项errptr 出错消息erroffset 出错位置tableptr 指向一个字符数组的指针，可以设置为空NULL示例：L1720 re = pcre_compile((char *)p, options, &amp;amp;error, &amp;amp;erroroffset, tables);2. pcre_compile2原型：#include &amp;lt;pcre.h&amp;gt;pcre *pcre_compile2(const char *pattern, int options, int *errorcodeptr, const char **errptr, int *erroffset, const unsigned char *tableptr);功能：将一个正则表达式编译成一个内部表示，在匹配多个字符串时，可以加速匹配。其同pcre_compile功能一样只是多一个参数errorcodeptr。参数：pattern 正则表达式options 为0，或者其他参数选项errorcodeptr 存放出错码errptr 出错消息erroffset 出错位置tableptr 指向一个字符数组的指针，可以设置为空NULL3. pcre_config原型：#include &amp;lt;pcre.h&amp;gt;int pcre_config(int what, void *where);功能：查询当前PCRE版本中使用的选项信息。参数：what 选项名where 存储结果的位置示例：Line1312 (void)pcre_config(PCRE_CONFIG_POSIX_MALLOC_THRESHOLD, &amp;amp;rc);4. pcre_copy_named_substring原型：#include &amp;lt;pcre.h&amp;gt;int pcre_copy_named_substring(const pcre *code, const char *subject, int *ovector, int stringcount, const char *stringname, char *buffer, int buffersize);功能：根据名字获取捕获的字串。参数：code 成功匹配的模式subject 匹配的串ovector pcre_exec() 使用的偏移向量stringcount pcre_exec()的返回值stringname 捕获字串的名字buffer 用来存储的缓冲区buffersize 缓冲区大小示例：Line2730 int rc = pcre_copy_named_substring(re, (char *)bptr, use_offsets,count, (char *)copynamesptr, copybuffer, sizeof(copybuffer));5.</description></item></channel></rss>