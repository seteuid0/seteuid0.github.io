<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>squashfs on seteuid0's blog</title><link>/tags/squashfs/</link><description>Recent content in squashfs on seteuid0's blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>This is a customized copyright.</copyright><lastBuildDate>Wed, 04 Feb 2015 06:19:10 +0000</lastBuildDate><atom:link href="/tags/squashfs/index.xml" rel="self" type="application/rss+xml"/><item><title>ubuntu安装光盘iso修改方法总结</title><link>/posts/ubuntu%e5%ae%89%e8%a3%85%e5%85%89%e7%9b%98iso%e4%bf%ae%e6%94%b9%e6%96%b9%e6%b3%95%e6%80%bb%e7%bb%93/</link><pubDate>Wed, 04 Feb 2015 06:19:10 +0000</pubDate><guid>/posts/ubuntu%e5%ae%89%e8%a3%85%e5%85%89%e7%9b%98iso%e4%bf%ae%e6%94%b9%e6%96%b9%e6%b3%95%e6%80%bb%e7%bb%93/</guid><description>可以使用mount命令查看iso的内容#mkdir iso #mount -o loop ubuntu.iso ./iso把iso里面的内容取出来,iso_modify#mkdir iso\_modify #rsync -az ./iso ./iso\_modifyIso目录里面的casper/filesystem.squashfs就是启动以后的虚拟文件系统，我们要修改的就是这里的内容。#mkdir squashfs #cp iso/casper/filesystem.squashfs ./squashfs #cd squashfs解压squashfs#unsquashfs filesystem.squashfs可以看到解压出的squashfs-root目录就是一个文件系统，针对性的进行修改，如果需要安装deb包，可以chroot进去使用dpkg进行安装。 如果安装了软件包，需要跟新dpkg的列表：#chroot squashfs-root/ dpkg-query -W --showformat='${Package}\\t${Version}\\n' &amp;gt; dpkg\_list #cp dpkg\_list ../../iso\_modify/casper/filesystem.manifest把squashfs-root目录从新制作成squashfs文件#mksquashfs squashfs-root filesystem.squashfs -b 1024k -comp xz -Xbcj x86 -e boot用新的filesystem.squashfs替换原来的文件。 把新的iso-modify打包成iso``` #mkisofs -r -V &amp;ldquo;UbuntuTest&amp;rdquo; -cache-inodes -J -l -b isolinux/isolinux.bin -c isolinux/boot.cat -no-emul-boot -boot-load-size 4 -boot-info-table -o ../ubuntu-test.iso .</description></item></channel></rss>